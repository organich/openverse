import{V as S}from"./dBDJp61W.js";import{u as $}from"./CXqaUaDA.js";import{v as f}from"./DEfBnNKa.js";import{r as A,h as D}from"./Dt-H8hG_.js";import{b as F,l as M,d as N}from"./DC-AD4tD.js";import{u as P}from"./Dom80zZx.js";import{d as R,z as T,A as w,C as H,D as r,F as g,E as B,G,H as h,I as e,J as p,K as J,L as K,M as c}from"./D36rSpla.js";const O=["title"],W=["viewBox"],j=["cx","cy","r"],q={class:"absolute bg-complementary"},Q={class:"thumbnail absolute inset-0"},U=["src","alt"],s=10,a=768,X=2,Y=27,le=R({__name:"VAudioThumbnail",props:{audio:{}},setup(C){const u=C,{audio:m}=T(u),{isHidden:n}=P(m),{t:y}=$({useScope:"global"}),x=n.value?y("sensitiveContent.title.audio"):y("audioThumbnail.alt",{title:u.audio.title,creator:u.audio.creator}),v=w(null),d=w(!1),V=()=>{d.value=!0};H(()=>{var t,o;d.value=!!((t=v.value)!=null&&t.complete&&((o=v.value)!=null&&o.naturalWidth))});const k=A(D(u.audio.title??"")),z=Array.from({length:4},(t,o)=>[k()*a,o/3*a]),E=s+1,I=F(z,E),_=t=>t*(a/(s+1)),L=(t,o)=>{const b=I[t],l=N([0,b],[0,_(o)]),i=a*((s-1)/(s+1));return M(Y,X,l/i)};return(t,o)=>{const b=S;return c(),r("div",{class:"relative h-0 w-full overflow-hidden pt-full",title:e(x)},[d.value?G("",!0):(c(),r("svg",{key:0,class:"absolute inset-0 bg-complementary",viewBox:`0 0 ${a} ${a}`},[(c(),r(g,null,B(s,l=>(c(),r(g,null,[(c(),r(g,null,B(s,i=>h(p("circle",{key:`${l}-${i}`,class:"fill-gray-12",cx:_(i),cy:_(l),r:L(l,i)},null,8,j),[[f,!e(n)]])),64))],64))),64))],8,W)),h(p("div",q,null,512),[[f,e(n)&&!e(m).thumbnail]]),h(p("div",Q,[p("img",{ref_key:"imgEl",ref:v,class:J(["h-full w-full overflow-clip object-cover object-center duration-200 motion-safe:transition-[filter,transform]",{"scale-150 blur-image":e(n)}]),src:e(m).thumbnail,alt:e(x),onLoad:V},null,42,U)],512),[[f,e(m).thumbnail&&d.value]]),h(K(b,{name:"eye-closed",class:"absolute left-[calc(50%-0.75rem)] top-[calc(50%-0.75rem)]"},null,512),[[f,e(n)]])],8,O)}}});export{le as _};
