import{u as k}from"./C6A5PBPG.js";import{v as f}from"./DEfBnNKa.js";import{u as R,a as V}from"./BADMhBhM.js";import{u as $}from"./BG4T5isn.js";import{I as F}from"./fl49u9nx.js";import{u as D}from"./Nt-yN3-f.js";import{u as I}from"./Ck1zm_Kp.js";import{e as E}from"./DQnMOLSw.js";import{_ as H}from"./B84NJKGo.js";import{_ as C}from"./DDErsNep.js";import{_ as N}from"./B94Xxy4C.js";import{V as A}from"./BTdkheJp.js";import{_ as L}from"./D6ClonaW.js";import{d as M,A as p,$ as U,N as r,D as j,L as o,P as G,I as a,a1 as P,M as q,H as h,J as z,U as J}from"./D36rSpla.js";const K={class:"main-header z-30 flex w-full items-stretch justify-between gap-x-2 bg-default px-6 py-4"},ce=M({__name:"VHeaderDesktop",setup(O){const _=p(null),l=p(null),g=R(),n=V(),i=$(),t=U(F),S=r(()=>g.fetchState.isFetching),{$sendCustomEvent:c}=k(),{updateSearchState:x,searchTerm:s,searchStatus:u}=D(c),w=()=>{var e;s.value="",E((e=l.value)==null?void 0:e.$el.querySelector("input"))},d=async()=>{window.scrollTo({top:0,left:0,behavior:"auto"});const e=document.activeElement;e==null||e.blur(),x()},b=r(()=>!n.searchTypeIsSupported),v=()=>{const e=t!=null&&t.value?"closed":"opened";c("TOGGLE_FILTER_SIDEBAR",{searchType:n.searchType,toState:e}),i.toggleFilters()},y=r(()=>i.isBreakpoint("xl")),{doneHydrating:B}=I();return(e,m)=>(q(),j("header",K,[o(N,{"is-fetching":S.value},null,8,["is-fetching"]),o(C,{ref_key:"searchBarRef",ref:l,modelValue:a(s),"onUpdate:modelValue":m[0]||(m[0]=T=>P(s)?s.value=T:null),modelModifiers:{trim:!0},class:"me-4 flex-grow",onSubmit:d,onRecentHidden:d},{default:G(()=>[h(o(A,{icon:"close-small",label:e.$t("browsePage.searchForm.clear"),variant:"filled-white",class:"hidden group-focus-within:flex",onClick:w},null,8,["label"]),[[f,a(s)!==""]]),h(z("span",{class:"info mx-4 hidden whitespace-nowrap text-xs text-secondary group-focus-within:hidden group-hover:text-default group-focus:text-default lg:block"},J(a(u)),513),[[f,!!a(u)]])]),_:1},8,["modelValue"]),o(L,{"show-label":y.value,placement:"header"},null,8,["show-label"]),o(H,{ref_key:"filterButtonRef",ref:_,class:"flex self-stretch",pressed:a(t),disabled:!a(B)||b.value,"aria-haspopup":"dialog","aria-expanded":a(t),onToggle:v},null,8,["pressed","disabled","aria-expanded"])]))}});export{ce as _};
